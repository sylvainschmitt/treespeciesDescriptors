```{r setupperf, include=FALSE, eval=T}
rm(list = ls()) ; invisible(gc()) ; set.seed(42)
library(knitr)
library(tidyverse)
ggplot2::theme_set(bayesplot::theme_default())
opts_chunk$set(
  echo = T, message = F, warning = F, fig.height = 6, fig.width = 8,
  cache = T, cache.lazy = F, eval=T)
```


# Performance descriptors

## Growth

See @herault_functional_2011 , waiting for my estimate for missing species.

## Mortality

```{r mortalitydata, eval=F}
vroom::vroom("data/paracou.tsv") %>% 
  group_by(Genus, Species) %>% 
  summarise(death = sum(CodeAlive == 0), trees = length(unique(idTree)), time = max(CensusYear) - min(CensusYear)) %>% 
  transmute(mortality = death / trees / time) %>% 
  vroom::vroom_write("data/species_mortality.tsv")
```

```{r mortalitytab}
vroom::vroom("data/species_mortality.tsv") %>% 
  kable(caption = "Mortality rate per year across species.") 
```
